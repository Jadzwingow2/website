(function(e){function t(t){for(var n,a,c=t[0],u=t[1],s=t[2],l=0,b=[];l<c.length;l++)a=c[l],o[a]&&b.push(o[a][0]),o[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);f&&f(t);while(b.length)b.shift()();return r.push.apply(r,s||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,a=1;a<i.length;a++){var u=i[a];0!==o[u]&&(n=!1)}n&&(r.splice(t--,1),e=c(c.s=i[0]))}return e}var n={},o={app:0},r=[];function a(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"2b838b77"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.e=function(e){var t=[],i=o[e];if(0!==i)if(i)t.push(i[2]);else{var n=new Promise(function(t,n){i=o[e]=[t,n]});t.push(i[2]=n);var r,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=a(e),r=function(t){u.onerror=u.onload=null,clearTimeout(s);var i=o[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+n+": "+r+")");a.type=n,a.request=r,i[1](a)}o[e]=void 0}};var s=setTimeout(function(){r({type:"timeout",target:u})},12e4);u.onerror=u.onload=r,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,i){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(i,n,function(t){return e[t]}.bind(null,n));return i},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var f=s;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("cd49")},"28f0":function(e,t,i){"use strict";var n=i("f09c"),o=i.n(n);o.a},cd49:function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-container"},[i("md-app",{attrs:{"md-mode":"fixed"}},[i("md-app-toolbar",{staticClass:"md-dense md-primary",attrs:{"md-elevation":"1"}},[i("h3",{staticClass:"md-title",staticStyle:{flex:"1"}},[e._v("Jadźwingów 2 - Mi zależy")]),i("md-button",{attrs:{to:"/"}},[e._v("Grupa dyskusyjna")]),i("md-button",{attrs:{to:"/join"}},[e._v("Dołącz do grupy dyskusyjnej")]),i("md-switch",{model:{value:e.enableNotification,callback:function(t){e.enableNotification=t},expression:"enableNotification"}},[e._v("Powiadamiaj mnie o waznych sprawach")])],1),i("md-app-content",[i("router-view")],1)],1)],1)},r=[],a=i("d225"),c=i("b0b4"),u=i("308d"),s=i("6bb5"),l=i("4e2b"),f=i("9ab4"),b=i("2fe1"),h=(i("51de"),i("e094"),function(){function e(t){Object(a["a"])(this,e)}return Object(c["a"])(e,[{key:"isRegistered",value:function(){var e=this;return new Promise(function(t,i){e.isServiceWorkerSupported?navigator.serviceWorker.getRegistration("/service.js").then(function(i){"undefined"!=typeof i?(e.serviceWorkerRegistration=i,t(!0)):t(!1)}).catch(function(e){i()}):i()})}},{key:"init",value:function(){var e=this;return new Promise(function(t,i){e.isRegistered().then(function(n){n?t():navigator.serviceWorker.register("/service.js").then(function(i){e.onRegisterSuccess(i),t()},function(t){e.onRegisterError(t),i()})}).catch(function(e){i()})})}},{key:"onRegisterSuccess",value:function(e){this.serviceWorkerRegistration=e,console.log("ServiceWorker registration successful with scope: ",e)}},{key:"onRegisterError",value:function(e){console.log("ServiceWorker registration failed: ",e)}},{key:"isServiceWorkerSupported",get:function(){return"serviceWorker"in navigator}}]),e}()),p=i("60a3"),v=i("75fc"),d=(i("34ef"),i("a481"),i("14b9"),function(){function e(t){Object(a["a"])(this,e),this.pushSubscription=null,this.notificationGranted=!1,this.workerService=t,"granted"==Notification.permission&&(this.notificationGranted=!0)}return Object(c["a"])(e,[{key:"init",value:function(){var e=this;return new Promise(function(t,i){e.workerService&&e.workerService.serviceWorkerRegistration&&e.workerService.serviceWorkerRegistration.pushManager.getSubscription().then(function(i){e.pushSubscription=i,t()})})}},{key:"disableNotifications",value:function(){var e=this;return console.info("disableNotifications"),new Promise(function(t,i){null!=e.pushSubscription&&e.pushSubscription.unsubscribe().then(function(e){e?t():i()}).catch(function(e){i()})})}},{key:"enableNotifications",value:function(){var e=this;return console.info("enableNotifications"),new Promise(function(t,i){e.askPermission().then(function(n){console.log("Mamy zgodna notyfikacje"),e.subscribePushNotifications().then(function(e){t()}).catch(function(e){i()})}).catch(function(e){i()})})}},{key:"askPermission",value:function(){return new Promise(function(e,t){var i=Notification.requestPermission();if(i)return i.then(e,t)}).then(function(e){if("granted"!==e)throw new Error("We weren't granted permission.")})}},{key:"urlBase64ToUint8Array",value:function(e){var t="=".repeat((4-e.length%4)%4),i=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(i);return Uint8Array.from(Object(v["a"])(n).map(function(e){return e.charCodeAt(0)}))}},{key:"subscribePushNotifications",value:function(){var e=this,t={userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array("BJN_3yvgkDrx-mgepYurxen8N-0W4y3YVOjqkHPkZyyvjnr_1GdkZkuq_LJO7HvBNCv-OieyyHXcVfCeCC1QCQU")};return new Promise(function(i,n){if(null!=e.pushSubscription){var o=JSON.parse(JSON.stringify(e.pushSubscription));console.debug("cdasdasdvvv",o),i()}else null!=e.workerService&&null!=e.workerService.serviceWorkerRegistration?e.workerService.serviceWorkerRegistration.pushManager.subscribe(t).then(function(t){if("undefined"!=typeof t){e.pushSubscription=t;var o=JSON.parse(JSON.stringify(e.pushSubscription));console.debug("cvvv",o),i()}else n()}).catch(function(e){n()}):n()})}},{key:"isAvailable",get:function(){return"PushManager"in window&&"serviceWorker"in navigator&&null!=this.workerService&&this.workerService.isServiceWorkerSupported}},{key:"isEnabled",get:function(){return"PushManager"in window&&"serviceWorker"in navigator&&null!=this.workerService&&this.workerService.isServiceWorkerSupported&&null!=this.pushSubscription&&this.notificationGranted}}]),e}()),g=function(e){function t(){var e;return Object(a["a"])(this,t),e=Object(u["a"])(this,Object(s["a"])(t).apply(this,arguments)),e.menuVisible=!1,e.enableNotification=!1,e.enableNotificationMutable=!1,e.notificationAvailable=!1,e.skipNextEnableNotificationWatch=!1,e}return Object(l["a"])(t,e),Object(c["a"])(t,[{key:"created",value:function(){var e=this,t=new h(this.$store);t.init().then(function(){var i=new d(t);e.notificationService=i,i.init().then(function(t){e.enableNotification!=i.isEnabled&&(e.skipNextEnableNotificationWatch=!0),e.enableNotification=i.isEnabled,e.enableNotificationMutable=i.isEnabled,e.notificationAvailable=i.isAvailable})})}},{key:"data",value:function(){return{menuVisible:!1,enableNotification:!1}}},{key:"onNotificationSwitchToggle",value:function(){var e=this;console.debug("onNotificationSwitchToggle"),this.skipNextEnableNotificationWatch||(console.debug("onNotificationSwitchToggle1"),this.enableNotificationMutable||null==this.notificationService?this.enableNotificationMutable&&null!=this.notificationService&&this.notificationService.disableNotifications().catch(function(t){e.skipNextEnableNotificationWatch=!0,e.enableNotification=!0}).then(function(t){e.enableNotificationMutable=!1,e.enableNotification=!1}):this.notificationService.enableNotifications().catch(function(t){e.skipNextEnableNotificationWatch=!0,e.enableNotification=!1}).then(function(t){e.enableNotificationMutable=!0,e.enableNotification=!0})),this.skipNextEnableNotificationWatch=!1}}]),t}(n["default"]);f["a"]([Object(p["a"])("enableNotification")],g.prototype,"onNotificationSwitchToggle",null),g=f["a"]([Object(b["b"])({})],g);var m=g,y=m,k=(i("28f0"),i("2877")),w=Object(k["a"])(y,o,r,!1,null,"4311b9a6",null),S=w.exports,N=i("8c4f"),j=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("iframe",{staticStyle:{height:"100%"},attrs:{id:"forum_embed",src:e.src,scrolling:"no",frameborder:"0",width:"100%",height:"100%"}})},O=[],W=function(e){function t(){var e;return Object(a["a"])(this,t),e=Object(u["a"])(this,Object(s["a"])(t).apply(this,arguments)),e.src="",e}return Object(l["a"])(t,e),Object(c["a"])(t,[{key:"data",value:function(){return{src:void 0}}},{key:"created",value:function(){this.src="https://groups.google.com/forum/embed/?place=forum/jadzwingow2&showsearch=true&showpopout=true&showtabs=false&parenturl="+encodeURIComponent(window.location.href)}}]),t}(n["default"]);W=f["a"]([Object(b["b"])({})],W);var P=W,x=P,_=Object(k["a"])(x,j,O,!1,null,null,null),E=_.exports;n["default"].use(N["a"]);var M=new N["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:E},{path:"/about",name:"about",component:function(){return i.e("about").then(i.bind(null,"f820"))}}]}),R=i("2f62");n["default"].use(R["a"]);var C=new R["a"].Store({state:{},mutations:{},actions:{}}),T=i("43f9"),A=i.n(T);n["default"].config.productionTip=!1,n["default"].use(A.a),new n["default"]({router:M,store:C,render:function(e){return e(S)}}).$mount("#app")},f09c:function(e,t,i){}});
//# sourceMappingURL=app.3eb28fa7.js.map